<div class="auth-page">
  <div class="container">
    <!-- Login tab -->
    <input type="radio" name="tab" id="login" [(ngModel)]="activeTab" value="login" checked tabindex="1" #loginTabInput>

    <!-- Register tab -->
    <input type="radio" name="tab" id="register" [(ngModel)]="activeTab" value="register" tabindex="5" #registerTabInput>

    <div class="tabs">
      <label for="login" (click)="handleRadioFocus('login')">Login</label>
      <label for="register" (click)="handleRadioFocus('register')">Register</label>
    </div>

    <div class="form-container">
      <div class="form-slider" [ngStyle]="{ transform: activeTab === 'login' ? 'translateX(0%)' : 'translateX(-50%)' }">
        <!-- Login Panel -->
        <div
          class="form-panel login-panel"
          [attr.aria-hidden]="activeTab !== 'login'"
          [attr.inert]="activeTab !== 'login' ? '' : null"
          #loginPanel
        >
          <form class="form" (ngSubmit)="handleSubmit('Login')" [formGroup]="loginForm">
            <div class="form-group" [ngClass]="{ 'error': loginForm.get('email')?.invalid && loginForm.get('email')?.touched }">
              <input type="email" id="login-email" formControlName="email" placeholder="Email" required tabindex="2">
              @if (loginForm.get('email')?.touched && loginForm.get('email')?.invalid) {
                <div class="error-message">Please enter a valid email address.</div>
              }
            </div>

            <div class="form-group" [ngClass]="{ 'error': loginForm.get('password')?.invalid && loginForm.get('password')?.touched }">
              <input type="password" id="login-password" formControlName="password" placeholder="Password" required tabindex="3">
              @if (loginForm.get('password')?.touched && loginForm.get('password')?.invalid) {
                <div class="error-message">Password is required.</div>
              }
            </div>

            <div class="form-group">
              <button type="submit" [disabled]="isLoading" tabindex="4">Login</button>
            </div>
          </form>
        </div>

        <!-- Register Panel -->
        <div
          class="form-panel register-panel"
          [attr.aria-hidden]="activeTab !== 'register'"
          [attr.inert]="activeTab !== 'register' ? '' : null"
          #registerPanel
        >
          <form class="form" (ngSubmit)="handleSubmit('Register')" [formGroup]="registerForm">
            <div class="form-group" [ngClass]="{ 'error': registerForm.get('firstname')?.invalid && registerForm.get('firstname')?.touched }">
              <input type="text" id="register-firstname" formControlName="firstname" placeholder="Firstname" required tabindex="6">
              @if (registerForm.get('firstname')?.touched && registerForm.get('firstname')?.invalid) {
                <div class="error-message">First name is required.</div>
              }
            </div>

            <div class="form-group" [ngClass]="{ 'error': registerForm.get('lastname')?.invalid && registerForm.get('lastname')?.touched }">
              <input type="text" id="register-lastname" formControlName="lastname" placeholder="Lastname" required tabindex="7">
              @if (registerForm.get('lastname')?.touched && registerForm.get('lastname')?.invalid) {
                <div class="error-message">Last name is required.</div>
              }
            </div>

            <div class="form-group" [ngClass]="{ 'error': registerForm.get('email')?.invalid && registerForm.get('email')?.touched }">
              <input type="email" id="register-email" formControlName="email" placeholder="Email" required tabindex="8">
              @if (registerForm.get('email')?.touched && registerForm.get('email')?.invalid) {
                <div class="error-message">Please enter a valid email address.</div>
              }
            </div>

            <div class="form-group" [ngClass]="{ 'error': registerForm.get('password')?.invalid && registerForm.get('password')?.touched }">
              <input type="password" id="register-password" formControlName="password" placeholder="Password" required tabindex="9">
              @if (registerForm.get('password')?.touched && registerForm.get('password')?.invalid) {
                <div class="error-message">Password is required.</div>
              }
            </div>

            <div class="form-group">
              <button type="submit" [disabled]="isLoading" tabindex="10">Register</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
